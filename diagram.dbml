Project Zeus {
  database_type: 'PostgreSQL'
  Note: '''
    # Zeus E-commerce management
  '''
}

Table UserType {
  id          int          [pk, increment, not null]
  description varchar (50) [not null]
  createdAt   timestamp    [not null, default: 'now()']
  updatedAt   timestamp    [not null, default: 'now()']
  deletedAt   timestamp
}

Table User {
  id         varchar (100) [not null, pk]
  name       varchar (50)  [not null]
  username   varchar (50)  [not null]
  password   varchar (150) [not null]
  userTypeId int           [not null]
  token      varchar (150)
  createdAt  timestamp     [not null, default: 'now()']
  updatedAt  timestamp     [not null, default: 'now()']
  deletedAt  timestamp
}

Table Permission {
  id          int          [pk, increment, not null]
  description varchar (50) [not null]
  createdAt   timestamp    [not null, default: 'now()']
  updatedAt   timestamp    [not null, default: 'now()']
  deletedAt   timestamp
}

Table Module {
  id          int          [pk, increment, not null]
  description varchar (50) [not null]
  createdAt   timestamp    [not null, default: 'now()']
  updatedAt   timestamp    [not null, default: 'now()']
  deletedAt   timestamp
}

Table PermissionGroup {
  id           int       [pk, increment, not null]
  userTypeId   int       [not null]
  permissionId int       [not null]
  moduleId     int       [not null]
  status       boolean   [not null, default: true]
  createdAt    timestamp [not null, default: 'now()']
  updatedAt    timestamp [not null, default: 'now()']
  deletedAt    timestamp
}

Table Company {
  id             varchar       [pk, not null]
  name           varchar (50)  [not null]
  displayName    varchar (50)  [not null]
  email          varchar (100) [not null]
  status         boolean       [not null, default: true]
  createdAt      timestamp     [not null, default: 'now()']
  updatedAt      timestamp     [not null, default: 'now()']
  deletedAt      timestamp
}

Table UserCompany {
  id        int       [pk, increment, not null]
  userId    int       [not null]
  companyId int       [not null]
  deletedAt timestamp
}

Table ServicePack {
  id             varchar         [pk, not null]
  name           varchar   (50)  [not null]
  description    varchar   (100) [not null]
  duration       int             [not null, default: 12, Note: 'in months']
  status         boolean         [not null, default: true]
  createdAt      timestamp       [not null, default: 'now()']
  updatedAt      timestamp       [not null, default: 'now()']
  deletedAt      timestamp
}

Table ServicePackItemType {
  id             int            [pk, increment, not null]
  description    varchar   (50) [not null]
  createdAt      timestamp      [not null, default: 'now()']
  updatedAt      timestamp      [not null, default: 'now()']
}

Table ServicePackItem {
  id             varchar        [pk, not null]
  itemTypeId     int            [not null]
  servicePackId  varchar        [not null]
  amount         int            [not null]
  status         boolean        [not null, default: true]
  createdAt      timestamp      [not null, default: 'now()']
  updatedAt      timestamp      [not null, default: 'now()']
  deletedAt      timestamp
}

Table Contract {
  id            varchar         [pk, not null]
  servicePackId varchar         [not null]
  companyId     varchar         [not null]
  price         decimal (10, 4) [not null]
  expiresAt     date            [not null]
  status        boolean         [not null, default: true]
  createdAt     timestamp       [not null, default: 'now()']
  updatedAt     timestamp       [not null, default: 'now()']
  deletedAt     timestamp
}

Ref "User_UserType_fk": User.userTypeId < UserType.id
Ref "PermissionGroup_UserType_fk": PermissionGroup.userTypeId < UserType.id
Ref "PermissionGroup_Permission_fk": PermissionGroup.permissionId < Permission.id
Ref "PermissionGroup_Module_fk": PermissionGroup.moduleId < Module.id
Ref "ServicePackItem_ServicePackItemType_fk": ServicePackItem.itemTypeId < ServicePackItemType.id
Ref "ServicePackItem_ServicePack_fk": ServicePackItem.servicePackId < ServicePack.id
Ref "Contract_ServicePack_fk": Contract.servicePackId < ServicePack.id
Ref "Contract_Company_fk": Contract.companyId < Company.id
Ref "UserCompany_User_fk": UserCompany.userId < User.id
Ref "UserCompany_Company_fk": UserCompany.companyId < Company.id
